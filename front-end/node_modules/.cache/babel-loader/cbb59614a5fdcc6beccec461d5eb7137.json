{"ast":null,"code":"export const login = credential => {\n  //fetch api\n  const loginUrl = `/login?username=${credential.username}&password=${credential.password}`;\n  return fetch(loginUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"include\"\n  }).then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to log in\");\n    }\n  });\n};\nexport const signup = data => {\n  const signupUrl = \"/signup\";\n  return fetch(signupUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to sign up\");\n    }\n  });\n};\nexport const getMenus = restId => {\n  return fetch(`/restaurant/${restId}/menu`).then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to get menus\");\n    }\n\n    return response.json();\n  });\n};\nexport const getRestaurants = () => {\n  return fetch(\"/restaurants\").then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to get restaurants\");\n    }\n\n    return response.json();\n  });\n};\nexport const getCart = () => {\n  return fetch(\"/cart\").then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to get shopping cart data\");\n    }\n\n    return response.json();\n  });\n};\nexport const checkout = () => {\n  return fetch(\"/checkout\").then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to checkout\");\n    }\n  });\n};\nexport const addItemToCart = itemId => {\n  return fetch(`/order/${itemId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"include\"\n  }).then(response => {\n    if (response.status < 200 || response.status >= 300) {\n      throw Error(\"Fail to add menu item to shopping cart\");\n    }\n  });\n};","map":{"version":3,"names":["login","credential","loginUrl","username","password","fetch","method","headers","credentials","then","response","status","Error","signup","data","signupUrl","body","JSON","stringify","getMenus","restId","json","getRestaurants","getCart","checkout","addItemToCart","itemId"],"sources":["/Users/weiyuedeng/Desktop/JavaLaiOffer/Project1/online-order-frontend/src/utils.js"],"sourcesContent":["export const login = (credential) => {\n    //fetch api\n    const loginUrl = `/login?username=${credential.username}&password=${credential.password}`;\n    return fetch(loginUrl,{\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n    }).then((response) => {\n        if (response.status < 200 || response.status >= 300){\n            throw Error(\"Fail to log in\");\n        }\n    });\n};\n\nexport const signup = (data) => {\n    const signupUrl = \"/signup\";\n  \n    return fetch(signupUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    }).then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to sign up\");\n      }\n    });\n  };\n  \n  export const getMenus = (restId) => {\n    return fetch(`/restaurant/${restId}/menu`).then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to get menus\");\n      }\n  \n      return response.json();\n    });\n  };\n  \n  export const getRestaurants = () => {\n    return fetch(\"/restaurants\").then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to get restaurants\");\n      }\n  \n      return response.json();\n    });\n  };\n  \n  export const getCart = () => {\n    return fetch(\"/cart\").then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to get shopping cart data\");\n      }\n  \n      return response.json();\n    });\n  };\n\n  export const checkout = () => {\n    return fetch(\"/checkout\").then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to checkout\");\n      }\n    });\n  };\n  \n  export const addItemToCart = (itemId) => {\n    return fetch(`/order/${itemId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"include\",\n    }).then((response) => {\n      if (response.status < 200 || response.status >= 300) {\n        throw Error(\"Fail to add menu item to shopping cart\");\n      }\n    });\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module"}